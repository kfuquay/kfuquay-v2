---
title: ESM V. CommonJS
slug: esm-vs-commonjs
description: Quick breakdown of major differences between ESM and CommonJS
publishDate: 18 Oct 2023
---

## ðŸ”Ž CheatSheet

|                   | CommonJS                                                                                                                                                                                | ESM                                                                                                                                                                                                                      |
|-------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| History           | [CommonJS modules](https://nodejs.org/api/modules.html) "are the original way to package JavaScript code for Node.js" and have been supported since Node.js's original release in 2009. | ESM ([ECMAScript Modules](https://nodejs.org/api/esm.html)) "are [the official standard format](https://tc39.es/ecma262/#sec-modules) to package JavaScript code for reuse." and were first introduced with ES2015 (ES6) in 2015. |
| Loading/Execution | Synchronous                                                                                                                                                                             | Asynchronous                                                                                                                                                                                                             |
| Unique characteristics | Uses `__filename`, `__dirname`, and `NODE_PATH` variables                                                                                                                               | Uses top-level `await`                                                                                                                                                                                                   |
| Imports           | `const module = require('file-path');`                                                                                                                                                  | `import defaultThing, { namedThing } from 'file-path';`                                                                                                                                                                  |
| Exports           | `module.exports=defaultThing`,  `exports=readOnlyThing`, `module.exports.name=namedThing`, `exports.name=readOnlyNamedThing`                                                              | `export default defaultThing`, `export namedThing`                                                                                                                                                                       |
| `package.json` - "type"     | `"type": "commonjs"`                                                                                                                                                                    | `"type": "module"`                                                                                                                                                                                                       |
| `package.json` - entry point | `"entry": "index.js"`                                                                                                                                                                   | `"exports": "./index.js"`                                                                                                                                                                                                |
| File Extensions   | `.js` & `.ts` by default or if `"type": "commonjs"` or commonjs syntax is detected.  Also `.cjs`, `.cts`                                                                                | `.js` & `.ts` if `"type": "module"` or ESM syntax detected. Also `.mjs`, `.mts`                                                                                                                                                   |
| Runtime Support   | All Node.js versions                                                                                                                                                                    | Node.js V12 or higher                                                                                                                                                                                                    |
| Strict Mode       | Requires `use strict` at top of file                                                                                                                                                    | Uses strict mode by default                                                                                                                                                                                              |
| This              | `this` = `exports`                                                                                                                                                                      | `this` = `undefined`                                                                                                                                                                                                     |

### ðŸ“š Resources

- https://nodejs.org/api/modules.html
- https://nodejs.org/api/esm.html